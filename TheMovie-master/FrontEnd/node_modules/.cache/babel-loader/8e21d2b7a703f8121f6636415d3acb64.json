{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amoha\\\\OneDrive\\\\Skrivbord\\\\TheMovie-master (1)\\\\TheMovie-master\\\\src\\\\Components\\\\MovieList.js\";\nimport React, { Component } from \"react\";\nimport Booking from \"./Booking\";\nexport default class MovieList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getMovies = async () => {\n      const response = await fetch(\"https://localhost:44312/api/Movies\").then(response => response.json()).then(data => this.setState({\n        result: data,\n        loaded: true\n      }));\n    };\n\n    this.state = {\n      result: null,\n      loaded: false\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  booking() {\n    fetch(\"https://localhost:44312/api/Bookings\", {\n      method: \"post\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        Email: this.state.Email,\n        tmdbID: this.props.MovieID\n      })\n    }).then(Response => Response.json()).then(Result => {\n      if (Result.Status == \"Success\") alert(\"Bokning slutförd\");else alert(\"Något gick fel\");\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Visnings\"), this.state.loaded ? this.state.result !== null ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"   \", this.state.result !== undefined && this.state.result !== null ? this.state.result.map(item => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"* Datum = \", item.ViewingDate, \" **Filmnamn = \", item.MovieName, \" **l\\xE4ngd =\", item.Length, \" **Antals\\xE4tte = \", item.TotalSeats, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"  \", React.createElement(\"img\", {\n      class: \"poster\",\n      width: \"120\",\n      src: \"https://image.tmdb.org/t/p/w185/udDclJoHjfjb8Ekgsd4FDteOkCU.jpg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), \"  \"))) : null) : null : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Loading...\"));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/amoha/OneDrive/Skrivbord/TheMovie-master (1)/TheMovie-master/src/Components/MovieList.js"],"names":["React","Component","Booking","MovieList","constructor","props","getMovies","response","fetch","then","json","data","setState","result","loaded","state","componentDidMount","booking","method","headers","Accept","body","JSON","stringify","Email","tmdbID","MovieID","Response","Result","Status","alert","render","undefined","map","item","ViewingDate","MovieName","Length","TotalSeats"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,eAAe,MAAMC,SAAN,SAAwBF,SAAxB,CAAkC;AAC/CG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SASnBC,SATmB,GASP,YAAY;AACtB,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAD,CAAL,CACpBC,IADoB,CACfF,QAAQ,IAAIA,QAAQ,CAACG,IAAT,EADG,EAEpBD,IAFoB,CAEfE,IAAI,IAAI,KAAKC,QAAL,CAAc;AAAEC,QAAAA,MAAM,EAAEF,IAAV;AAAgBG,QAAAA,MAAM,EAAE;AAAxB,OAAd,CAFO,CAAvB;AAGD,KAbkB;;AAEjB,SAAKC,KAAL,GAAa;AAAEF,MAAAA,MAAM,EAAE,IAAV;AAAgBC,MAAAA,MAAM,EAAE;AAAxB,KAAb;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKV,SAAL;AACD;;AAQDW,EAAAA,OAAO,GAAG;AACRT,IAAAA,KAAK,CAAC,sCAAD,EAAyC;AAC5CU,MAAAA,MAAM,EAAE,MADoC;AAE5CC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT,OAFmC;AAM5CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAAE,KAAKT,KAAL,CAAWS,KADC;AAEnBC,QAAAA,MAAM,EAAE,KAAKpB,KAAL,CAAWqB;AAFA,OAAf;AANsC,KAAzC,CAAL,CAWGjB,IAXH,CAWQkB,QAAQ,IAAIA,QAAQ,CAACjB,IAAT,EAXpB,EAYGD,IAZH,CAYQmB,MAAM,IAAI;AACd,UAAIA,MAAM,CAACC,MAAP,IAAiB,SAArB,EAAgCC,KAAK,CAAC,kBAAD,CAAL,CAAhC,KACKA,KAAK,CAAC,gBAAD,CAAL;AACN,KAfH;AAgBD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEG,KAAKhB,KAAL,CAAWD,MAAX,GACC,KAAKC,KAAL,CAAWF,MAAX,KAAsB,IAAtB,GAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAS,KAAKE,KAAL,CAAWF,MAAX,KAAsBmB,SAAtB,IAAmC,KAAKjB,KAAL,CAAWF,MAAX,KAAsB,IAAzD,GACH,KAAKE,KAAL,CAAWF,MAAX,CAAkBoB,GAAlB,CAAsBC,IAAI,IACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACYA,IAAI,CAACC,WADjB,oBAC4CD,IAAI,CAACE,SADjD,mBAEGF,IAAI,CAACG,MAFR,yBAEgCH,IAAI,CAACI,UAFrC,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAO;AAAK,MAAA,KAAK,EAAC,QAAX;AAAoB,MAAA,KAAK,EAAC,KAA1B;AAAgC,MAAA,GAAG,EAAC,iEAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP,OAHF,CADF,CADG,GASH,IATN,CAFF,GAaI,IAdL,GAgBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAlBJ,CADF;AAuBD;;AA3D8C","sourcesContent":["import React, { Component } from \"react\";\nimport Booking from \"./Booking\"\n\nexport default class MovieList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { result: null, loaded: false };\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies = async () => {\n    const response = await fetch(\"https://localhost:44312/api/Movies\")\n      .then(response => response.json())\n      .then(data => this.setState({ result: data, loaded: true }));\n  };\n  \n  booking() {\n    fetch(\"https://localhost:44312/api/Bookings\", {\n      method: \"post\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        Email: this.state.Email,\n        tmdbID: this.props.MovieID\n      })\n    })\n      .then(Response => Response.json())\n      .then(Result => {\n        if (Result.Status == \"Success\") alert(\"Bokning slutförd\");\n        else alert(\"Något gick fel\");\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Visnings</div>\n        {this.state.loaded ? (\n          this.state.result !== null ? (\n           \n            <div>   {this.state.result !== undefined && this.state.result !== null\n                ? this.state.result.map(item => (\n                    <div>\n                     * Datum = {item.ViewingDate} **Filmnamn = {item.MovieName} **längd =\n                      {item.Length} **Antalsätte = {item.TotalSeats} \n                      <div>  <img class=\"poster\" width=\"120\" src=\"https://image.tmdb.org/t/p/w185/udDclJoHjfjb8Ekgsd4FDteOkCU.jpg\" />  </div>\n                     \n                    </div>\n                  ))\n                : null}\n            </div>\n          ) : null\n        ) : (\n          <div>Loading...</div>\n        )}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}